<html layout:decorate="~{global/layout}">
<div layout:fragment="content" class="mx-2 overflow-x-auto">
    <table class="w-full table table-zebra">
        <thead class="bg-info-content text-base-100">
        <tr>
            <th>번호</th>
            <th style="width:50%">제목</th>
            <th>글쓴이</th>
            <th>작성일시</th>
        </tr>
        </thead>
        <tbody>
        <tr class="bg-base-200 text-center" th:each="post, loop : ${paging}">
            <td class="border border-white px-4 py-2" th:text="${paging.getTotalElements - (paging.number * paging.size) - loop.index}"></td>
            <td class="border border-white px-4 py-2 text-start">
                <span th:if="${post.isPremium}">[M] </span>
                <span th:if="${post.isPublished()}"><i class="fas fa-lock"></i> </span>
                <span th:unless="${post.isPremium and not @rq.isPremium()}" class="text-info-content">
                <a th:href="@{|/post/detail/${post.id}|}" th:text="${post.title}"></a>
            </span>
                <span th:if="${post.isPremium and not @rq.isPremium()}">멤버십 회원만 열람 가능 한 글 입니다.</span>
            </td>
            <td class="border border-white px-4 py-2"><span th:if="${post.author != null}" th:text="${post.author.username}"></span></td>
            <td class="border border-white px-4 py-2" th:text="${#temporals.format(post.createDate, 'yyyy-MM-dd HH:mm')}"></td>
        </tr>
        </tbody>
    </table>

    <div class="mt-2 flex gap-2 flex justify-end">
        <a th:href="@{/post/create}" class="btn btn-outline mr-3 mb-2">글 등록</a>
    </div>
</div>
</html>